$define(["wgt_util","jquery.dialogMgr","jquery.adFocus","js/pagination/initPagination","wgt_readyload","paging"],function($0,$,$1,focus,initPagination,r,page){function getAjaxData(a,t){var e;return $.ajax({type:"POST",url:a,data:t,async:!1,success:function(a){e=a}}),e}function listPagination(a){var i=$compCl.getScope(a.id),t=getUrl();a.params={totalPages:parseInt(a.totalPages),currentPage:parseInt(a.currentPage),pageSize:parseInt(a.pageSize),url:t},initPagination._params=a,initPagination._params.params.callback=function(a,t){var e=getAjaxData(a,{compId:t.id,productCateId:t.categoryId});i.html(e)},initPagination.init()}function productImageHandle(params){var scp=$compCl.getScope(params.id),imageObjs=scp.find(".p_image"),imageCut=eval(params.imageCut)?1:2;if(0<imageObjs.length){var imageBitScale=parseInt(params.imagesWidth)/parseInt(params.imagesHeight);imageObjs.putPhotoDiv(imageCut,imageBitScale)}}function defaultImageHandle(params){var scp=$compCl.getScope(params.id);eval(params.definedDefaultImage)&&""!=$.trim(params.defaultImage)?scp.find("img").onErrorImg($.trim(params.defaultImage)):scp.find("img").onErrorImg(),r.lazyImg({defObj:"#"+scp.attr("id")})}function textSubstring(a){a.find(".js_dataCut").each(function(){var a=$(this).attr("autoSize");a||(a=1),$(this).fixLineN(a)})}function getUrl(){return"/comp/product/list.do"}function pageTurnFun(a,t){if("turnPage"==(t.turnPageType||"turnPage"))listPagination(t);else{var e={firstRefresh:!1};e.url=getUrl(),e.data={compId:t.id},e.successFun=function(a){a&&a.length},a.find(".p_newes-list").paging(e)}}function ImageSizeRE(a,t){a.find(".p_newes-list").viewAnimate({spaceW:parseInt(t.tDistance),spaceH:parseInt(t.wDistance),columnNum:parseInt(t.columnNum),lineNum:parseInt(t.lineNum),percent:parseInt(t.imagesWidth)/parseInt(t.imagesHeight),duration:500,exDuration:400,p_article:".p_article",p_container:".p_container"}),textSubstring(a)}function AutoImageMove(e,i){$(e).on("ND_compResize",function(a){var t=a.target;$(t).width();ImageSizeRE(e,i)})}var init=function(){var a=this._params,t=$compCl.getScope(a.id);pageTurnFun(t,a),productImageHandle(a),ImageSizeRE(t,a),AutoImageMove(t,a),defaultImageHandle(a)};return{init:init}});